1. 网络应用程序体系架构:
    - C-S架构: 如Web应用，telnet，FTP，电子邮件等
    - P2P架构: 如BitTorrent，迅雷等
    - C-S与P2P混合: 大部分即使通讯应用
    
2. 网络通信 -> 不同机器进程间通信:
    - 应用层通过socket将数据发送到运输层
    - 运输层通过相应协议，利用底层设施发送数据
    - 接收端应用层通过socket从运输层接收数据
    - 进程寻址: 主机(IP) + 端口号
    
3. 选择运输层协议的四个基准:
    - 可靠性
    - 吞吐量
    - 定时
    - 安全性
    
4. 运输层协议简单介绍:
    - TCP: 可靠，建立全双工连接，拥塞控制，SSL(Secure Socket Layer)安全保证
    - UDP: 不可靠，可能乱序到达，无拥塞控制
    
一些应用层软件与协议:

5. Web应用与Http协议:
    1) Http协议中的角色:
        - 对象: 资源统称，如视频，文档资源等
        - URL: 对象在服务器中的存储位置
        - Web页面: 由多个对象组成
    2) Http基于运输层TCP协议
    3) Http是一种无状态的协议；
    4) Http长短连接:
        - 持续连接: 
            - 请求头: Connection: keep-alive
            - 同一客户端与服务器之间的数据交互，可复用同一TCP连接
        - 非持续连接:
            - 请求头: Connection: close
            - 服务器对客户端请求做出响应并传输完数据后，主动关闭连接
    5) 报文格式:
        - 请求报文:
            ````
          METHOD URL HTTP_VERSION
          HEADER
          
          BODY
          ````
        - 响应报文:
            ````
          HTTP_VERSION STATUS_CODE STATUS_CODE_DESC
          HEADER
          
          ENTITY_RESPONSE
          ````
          - 一些状态码:
          ````
          200 OK
          300 REMOVE PERMANLY 永久移除
          304 cache_success 
          400 
          404 NOT FOUND
          505 http_version_error
          ````
    
    6) cookie:
        - SET-COOKIE: 响应头，设置cookie号
        - COOKIE: 客户端发送请求时都会带上
        - 客户端处cookie文件
        - 服务器端数据库保存用户对应cookie
    
    7) Web缓存:
        - 代理服务器:
            - 好处: 一是可以减少服务器端的负载，二是加快客户端的响应
            - 缓存文件更新问题: 条件GET，Last-modified，If-last-modified
        - 浏览器缓存
        
6. 电子邮件与SMTP:
    1) 角色:
        - 用户代理: 用户使用的邮件客户端
        - 邮件服务器: 安装有SMTP客户端与服务器，负责邮件真正发送
        - 邮箱: 邮件服务器中每个用户邮件保存的位置
    2) 大致架构:
        ````
       用户代理  -SMTP/HTTP-> 发送方邮件服务器
                                     |(SMTP)
       用户代理  <-POP3/IMAP/HTTP-  接收方邮件服务器
       ````
    3) SMTP协议格式:
        - 头部: 如From，To，Subject等
        - 报文: 邮件正文数据
        - SMTP报文只能使用ASCII字符编码
    4) POP3: 提供邮件下载服务，无法在服务器上直接查看邮件
        - 下载并保留: 服务器端的相应邮件不会被删除
        - 下载并删除: 服务器端的相应邮件被删除，不适用与多端场景
    5) IMAP: 用户代理可在邮件服务器创建文件夹，并移动邮件位置，也可以查看邮件内容
    
7. DNS: Domain Name System
    1) 体系结构: 客户端-服务器
    2) 提供服务: 
        - 主机 -> IP服务
        - 邮件服务器别名服务
        - 由于一个服务器集群可能共享一个主机名，所以不同IP可能拥有
        相同主机名，此时DNS系统会自动轮询这些IP，做负载均衡
    3) 包含:
        - DNS服务器: 分层结构(Root + TLD + 权威) + 本地DNS服务器
        - DNS协议
    4) DNS缓存:
    5) DNS记录:
        - A: 主机 -> IP
        - NS: 主机 -> 权威DNS服务器主机名
        - CNAME: 主机别名 -> 主机规范名
        - MX: 邮件服务器别名 -> 规范名
    
8. P2P: 网络中每台主机既可以是客户端，也可以是服务器
    - P2P与传统C-S架构比较，分发速率增长巨明显
    - BitTorrent网络分析:
        1) 角色:
            - 对等方: P2P网络中的每一台主机
            - 洪流(torrent): 所有主机的集合
            - chunk: 下载的文件块，典型块大小为256kb
            - tracker: 追踪器，存放资源的初始服务器；并
            持续追踪加入此网络的主机
        2) 对等方chunk请求策略: 最稀缺优先
        3) 对等放chunk发放策略: 对换算法，将手上的资源
        发送给给自己传送数据最快的四个对等方；每隔30s再
        随机选一个对等方发送数据；目的是寻找带宽最匹配的对等方